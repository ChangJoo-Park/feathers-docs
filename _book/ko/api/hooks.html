
<!DOCTYPE HTML>
<html lang="ko" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Hooks · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-feathers-versions/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="hooks-common.html" />
    
    
    <link rel="prev" href="services.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="검색어 입력" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    소개
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../guides/readme.html">
            
                <a href="../guides/readme.html">
            
                    
                    가이드
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../guides/about/readme.html">
            
                <a href="../guides/about/readme.html">
            
                    
                    Feathers에 관하여
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../guides/about/features.html">
            
                <a href="../guides/about/features.html">
            
                    
                    기능
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../guides/about/philosophy.html">
            
                <a href="../guides/about/philosophy.html">
            
                    
                    철학
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../guides/about/vs.html">
            
                <a href="../guides/about/vs.html">
            
                    
                    Feathers와 다른 프레임워크 비교
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../guides/step-by-step/readme.html">
            
                <a href="../guides/step-by-step/readme.html">
            
                    
                    기초
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../guides/step-by-step/intro/readme.html">
            
                <a href="../guides/step-by-step/intro/readme.html">
            
                    
                    소개
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../guides/step-by-step/intro/not-worry.html">
            
                <a href="../guides/step-by-step/intro/not-worry.html">
            
                    
                    지금은 걱정하지 않아도 됩니다
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../guides/step-by-step/preliminaries.html">
            
                <a href="../guides/step-by-step/preliminaries.html">
            
                    
                    예제 설치
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../guides/step-by-step/basic-feathers/readme.html">
            
                <a href="../guides/step-by-step/basic-feathers/readme.html">
            
                    
                    Feathers 기초
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../guides/step-by-step/basic-feathers/database-connector.html">
            
                <a href="../guides/step-by-step/basic-feathers/database-connector.html">
            
                    
                    데이터베이스 커넥터
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../guides/step-by-step/basic-feathers/rest-api-server.html">
            
                <a href="../guides/step-by-step/basic-feathers/rest-api-server.html">
            
                    
                    REST API 서버
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.7" data-path="../guides/step-by-step/basic-feathers/rest-client.html">
            
                <a href="../guides/step-by-step/basic-feathers/rest-client.html">
            
                    
                    Feathers REST 클라이언트
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.8" data-path="../guides/step-by-step/basic-feathers/socket-client.html">
            
                <a href="../guides/step-by-step/basic-feathers/socket-client.html">
            
                    
                    Feathers WebSocket 클라이언트
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.9" data-path="../guides/step-by-step/basic-feathers/a-ha.html">
            
                <a href="../guides/step-by-step/basic-feathers/a-ha.html">
            
                    
                    "아하!" 모멘트
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.10" data-path="../guides/step-by-step/basic-feathers/hooks-middleware.html">
            
                <a href="../guides/step-by-step/basic-feathers/hooks-middleware.html">
            
                    
                    훅 미들웨어
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.11" data-path="../guides/step-by-step/basic-feathers/all-about-hooks.html">
            
                <a href="../guides/step-by-step/basic-feathers/all-about-hooks.html">
            
                    
                    훅의 모든것
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.12" data-path="../guides/step-by-step/basic-feathers/hooks-1.html">
            
                <a href="../guides/step-by-step/basic-feathers/hooks-1.html">
            
                    
                    훅, 파트 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.13" data-path="../guides/step-by-step/basic-feathers/hooks-2.html">
            
                <a href="../guides/step-by-step/basic-feathers/hooks-2.html">
            
                    
                    훅, 파트 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.14" data-path="../guides/step-by-step/basic-feathers/writing-hooks.html">
            
                <a href="../guides/step-by-step/basic-feathers/writing-hooks.html">
            
                    
                    직접 훅을 만드세요
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.15" data-path="../guides/step-by-step/basic-feathers/testing-hooks.html">
            
                <a href="../guides/step-by-step/basic-feathers/testing-hooks.html">
            
                    
                    훅 테스팅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.16" data-path="../guides/step-by-step/basic-feathers/real-time.html">
            
                <a href="../guides/step-by-step/basic-feathers/real-time.html">
            
                    
                    리얼타임
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../guides/step-by-step/generators/readme.html">
            
                <a href="../guides/step-by-step/generators/readme.html">
            
                    
                    제너레이터 (CLI)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../guides/step-by-step/generators/gen-app.html">
            
                <a href="../guides/step-by-step/generators/gen-app.html">
            
                    
                    애플리케이션 생성
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../guides/step-by-step/generators/gen-authentication.html">
            
                <a href="../guides/step-by-step/generators/gen-authentication.html">
            
                    
                    인증 추가
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../guides/step-by-step/generators/gen-service.html">
            
                <a href="../guides/step-by-step/generators/gen-service.html">
            
                    
                    Teams 서비스 추가
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="../guides/step-by-step/generators/gen-hook.html">
            
                <a href="../guides/step-by-step/generators/gen-hook.html">
            
                    
                    Populate 훅 생성
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="../guides/step-by-step/generators/gen-run.html">
            
                <a href="../guides/step-by-step/generators/gen-run.html">
            
                    
                    애플리케이션 실행
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../guides/chat/readme.html">
            
                <a href="../guides/chat/readme.html">
            
                    
                    채팅 애플리케이션
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../guides/chat/creating.html">
            
                <a href="../guides/chat/creating.html">
            
                    
                    애플리케이션 생성
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="../guides/chat/service.html">
            
                <a href="../guides/chat/service.html">
            
                    
                    서비스 생성
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.3" data-path="../guides/chat/frontend.html">
            
                <a href="../guides/chat/frontend.html">
            
                    
                    프론트엔드 생성
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.4" data-path="../guides/chat/authentication.html">
            
                <a href="../guides/chat/authentication.html">
            
                    
                    인증 추가
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.5" data-path="../guides/chat/processing.html">
            
                <a href="../guides/chat/processing.html">
            
                    
                    데이터 처리
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../guides/frameworks/readme.html">
            
                <a href="../guides/frameworks/readme.html">
            
                    
                    프레임워크
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" >
            
                <span>
            
                    
                    React와 React Native
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" >
            
                <span>
            
                    
                    VueJS
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3" >
            
                <span>
            
                    
                    Angular
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.4" >
            
                <span>
            
                    
                    Others
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../guides/auth/readme.html">
            
                <a href="../guides/auth/readme.html">
            
                    
                    인증
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../guides/auth/how-jwt-works.html">
            
                <a href="../guides/auth/how-jwt-works.html">
            
                    
                    JWT 작동원리
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" >
            
                <a target="_blank" href="https://github.com/feathersjs/feathers-authentication/blob/master/docs/new-1.0-features.md">
            
                    
                    추가된 내용 (external link)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" >
            
                <a target="_blank" href="https://github.com/feathersjs/feathers-authentication/blob/master/docs/migrating.md">
            
                    
                    마이그레이션 가이드 (external link)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.4" data-path="../guides/auth/recipe.customize-response.html">
            
                <a href="../guides/auth/recipe.customize-response.html">
            
                    
                    레시피: 사용자 정의 로그인 응답
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.5" data-path="../guides/auth/recipe.customize-jwt-payload.html">
            
                <a href="../guides/auth/recipe.customize-jwt-payload.html">
            
                    
                    레시피: 사용자 정의 JWT 페이로드
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.6" data-path="../guides/auth/recipe.mixed-auth.html">
            
                <a href="../guides/auth/recipe.mixed-auth.html">
            
                    
                    레시피: 혼합된 인증 엔드포인트
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.7" data-path="../guides/auth/recipe.oauth-basic.html">
            
                <a href="../guides/auth/recipe.oauth-basic.html">
            
                    
                    레시피: 기본 OAuth
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../guides/offline-first/readme.html">
            
                <a href="../guides/offline-first/readme.html">
            
                    
                    오프라인 우선
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1" data-path="../guides/offline-first/strategies.html">
            
                <a href="../guides/offline-first/strategies.html">
            
                    
                    전략
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.2" data-path="../guides/offline-first/snapshot.html">
            
                <a href="../guides/offline-first/snapshot.html">
            
                    
                    스냅샷
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.3" data-path="../guides/offline-first/realtime.html">
            
                <a href="../guides/offline-first/realtime.html">
            
                    
                    리얼타임
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.4" data-path="../guides/offline-first/optimistic-mutation.html">
            
                <a href="../guides/offline-first/optimistic-mutation.html">
            
                    
                    낙관적인 변이
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.5" data-path="../guides/offline-first/owndata-ownnet.html">
            
                <a href="../guides/offline-first/owndata-ownnet.html">
            
                    
                    가지고있는 데이터, 네트워크
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.6" data-path="../guides/offline-first/syncdata-syncnet.html">
            
                <a href="../guides/offline-first/syncdata-syncnet.html">
            
                    
                    데이터, 네트워크 동기화
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.7" data-path="../guides/offline-first/configure-snapshot.html">
            
                <a href="../guides/offline-first/configure-snapshot.html">
            
                    
                    스냅샷 설정
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.8" data-path="../guides/offline-first/configure-realtime.html">
            
                <a href="../guides/offline-first/configure-realtime.html">
            
                    
                    리얼타임 설정
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.9" data-path="../guides/offline-first/configure-publication.html">
            
                <a href="../guides/offline-first/configure-publication.html">
            
                    
                    배포 설정
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.10" data-path="../guides/offline-first/example-snapshot.html">
            
                <a href="../guides/offline-first/example-snapshot.html">
            
                    
                    스냅샷 예제
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.11" data-path="../guides/offline-first/example-realtime.html">
            
                <a href="../guides/offline-first/example-realtime.html">
            
                    
                    리얼타임 & 배포 예제
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.12" data-path="../guides/offline-first/example-optimistic.html">
            
                <a href="../guides/offline-first/example-optimistic.html">
            
                    
                    낙관적인 조작 예제
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.13" data-path="../guides/offline-first/example-tests.html">
            
                <a href="../guides/offline-first/example-tests.html">
            
                    
                    예제로 테스트
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.14" data-path="../guides/offline-first/example-more.html">
            
                <a href="../guides/offline-first/example-more.html">
            
                    
                    추가 예제
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../guides/advanced/readme.html">
            
                <a href="../guides/advanced/readme.html">
            
                    
                    고급 주제
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1" data-path="../guides/advanced/debugging.html">
            
                <a href="../guides/advanced/debugging.html">
            
                    
                    디버깅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.2" data-path="../guides/advanced/configuration.html">
            
                <a href="../guides/advanced/configuration.html">
            
                    
                    설정
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.3" data-path="../guides/advanced/file-uploading.html">
            
                <a href="../guides/advanced/file-uploading.html">
            
                    
                    파일 업로드
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.4" data-path="../guides/advanced/creating-a-plugin.html">
            
                <a href="../guides/advanced/creating-a-plugin.html">
            
                    
                    Feathers 플러그인 만들기
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.5" data-path="../guides/advanced/seeding-services.html">
            
                <a href="../guides/advanced/seeding-services.html">
            
                    
                    서비스 시딩
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.6" data-path="../guides/advanced/using-a-view-engine.html">
            
                <a href="../guides/advanced/using-a-view-engine.html">
            
                    
                    뷰 엔진 사용하기
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.7" data-path="../guides/advanced/scaling.html">
            
                <a href="../guides/advanced/scaling.html">
            
                    
                    스케일링
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="readme.html">
            
                <a href="readme.html">
            
                    
                    API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    Core
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="application.html">
            
                <a href="application.html">
            
                    
                    Application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="services.html">
            
                <a href="services.html">
            
                    
                    Services
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.1.3" data-path="hooks.html">
            
                <a href="hooks.html">
            
                    
                    Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="hooks-common.html">
            
                <a href="hooks-common.html">
            
                    
                    Common Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.5" data-path="client.html">
            
                <a href="client.html">
            
                    
                    Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.6" data-path="events.html">
            
                <a href="events.html">
            
                    
                    Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.7" data-path="errors.html">
            
                <a href="errors.html">
            
                    
                    Errors
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" >
            
                <span>
            
                    
                    Transports
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="rest.html">
            
                <a href="rest.html">
            
                    
                    REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="express.html">
            
                <a href="express.html">
            
                    
                    Express
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="socketio.html">
            
                <a href="socketio.html">
            
                    
                    Socket.io
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="primus.html">
            
                <a href="primus.html">
            
                    
                    Primus
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    Authentication
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="authentication/server.html">
            
                <a href="authentication/server.html">
            
                    
                    Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="authentication/client.html">
            
                <a href="authentication/client.html">
            
                    
                    Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="authentication/local.html">
            
                <a href="authentication/local.html">
            
                    
                    Local
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.4" data-path="authentication/local-management.html">
            
                <a href="authentication/local-management.html">
            
                    
                    Local management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.5" data-path="authentication/jwt.html">
            
                <a href="authentication/jwt.html">
            
                    
                    JWT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.6" data-path="authentication/oauth1.html">
            
                <a href="authentication/oauth1.html">
            
                    
                    OAuth1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.7" data-path="authentication/oauth2.html">
            
                <a href="authentication/oauth2.html">
            
                    
                    OAuth2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.8" data-path="authentication/hooks.html">
            
                <a href="authentication/hooks.html">
            
                    
                    Hooks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    Databases
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="databases/common.html">
            
                <a href="databases/common.html">
            
                    
                    Common API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="databases/querying.html">
            
                <a href="databases/querying.html">
            
                    
                    Querying
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="databases/memory.html">
            
                <a href="databases/memory.html">
            
                    
                    Memory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.4" data-path="databases/nedb.html">
            
                <a href="databases/nedb.html">
            
                    
                    NeDb
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.5" data-path="databases/localstorage.html">
            
                <a href="databases/localstorage.html">
            
                    
                    LocalStorage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.6" data-path="databases/mongodb.html">
            
                <a href="databases/mongodb.html">
            
                    
                    MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.7" data-path="databases/mongoose.html">
            
                <a href="databases/mongoose.html">
            
                    
                    Mongoose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.8" data-path="databases/sequelize.html">
            
                <a href="databases/sequelize.html">
            
                    
                    Sequelize
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.9" data-path="databases/knexjs.html">
            
                <a href="databases/knexjs.html">
            
                    
                    Knex
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.10" data-path="databases/rethinkdb.html">
            
                <a href="databases/rethinkdb.html">
            
                    
                    RethinkDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.11" data-path="databases/elasticsearch.html">
            
                <a href="databases/elasticsearch.html">
            
                    
                    Elasticsearch
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../SECURITY.html">
            
                <a href="../SECURITY.html">
            
                    
                    보안
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../ecosystem/readme.html">
            
                <a href="../ecosystem/readme.html">
            
                    
                    생태계
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../help/readme.html">
            
                <a href="../help/readme.html">
            
                    
                    도와주세요
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../faq/readme.html">
            
                <a href="../faq/readme.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../contributing/readme.html">
            
                <a href="../contributing/readme.html">
            
                    
                    기여하기
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../license.md">
            
                <span>
            
                    
                    License
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            GitBook에 게시
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Hooks</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="hooks">Hooks</h1>
<p><a href="https://github.com/feathersjs/feathers-hooks/" target="_blank"><img src="https://img.shields.io/github/stars/feathersjs/feathers-hooks.png?style=social&amp;label=Star" alt="GitHub stars"></a>
<a href="https://www.npmjs.com/package/feathers-hooks" target="_blank"><img src="https://img.shields.io/npm/v/feathers-hooks.png?style=flat-square" alt="npm version"></a>
<a href="https://github.com/feathersjs/feathers-hooks/blob/master/CHANGELOG.md" target="_blank"><img src="https://img.shields.io/badge/changelog-.md-blue.png?style=flat-square" alt="Changelog"></a></p>
<pre><code>$ npm install feathers-hooks --save
</code></pre><p>Hooks are pluggable middleware functions that can be registered <strong>before</strong>, <strong>after</strong> or on <strong>error</strong>s of a <a href="services.html">service method</a>. You can register a single hook function or create a chain of them to create complex work-flows. Most of the time multiple hooks are registered so the examples show the &quot;hook chain&quot; array style registration.</p>
<p>A hook is <strong>transport independent</strong>, which means it does not matter if it has been called through HTTP(S) (REST), Socket.io, Primus or any other transport Feathers may support in the future. They are also service agnostic, meaning they can be used with &#x200B;<strong>any</strong>&#x200B; service regardless of whether they have a model or not.</p>
<p>Hooks are commonly used to handle things like validation, logging, populating related entities, sending notifications and more. This pattern keeps your application logic flexible, composable, and much easier to trace through and debug. For more information about the design patterns behind hooks see <a href="https://blog.feathersjs.com/api-service-composition-with-hooks-47af13aa6c01" target="_blank">this blog post</a>.</p>
<p>The following example adds a <code>createdAt</code> and <code>updatedAt</code> property before sending the data to the database.</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> feathers = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers&apos;</span>);
<span class="hljs-keyword">const</span> hooks = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-hooks&apos;</span>);

<span class="hljs-keyword">const</span> app = feathers();

app.configure(hooks());

app.service(<span class="hljs-string">&apos;messages&apos;</span>).hooks({
  before: {
    create(hook) {
      hook.data.createdAt = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    },

    update(hook) {
      hook.data.updatedAt = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    },

    patch(hook) {
      hook.data.updatedAt = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    }
  }
});
</code></pre>
<h2 id="hook-objects">Hook objects</h2>
<p>The <code>hook</code> object is passed to a hook function and contains information about the service method call. Hook objects have <strong>read only</strong> properties that should not be modified and <strong>writeable</strong> properties that can be changed for subsequent hooks.</p>
<ul>
<li><strong>Read Only:</strong><ul>
<li><code>app</code> - The <a href="application.html">app object</a> (used to e.g. retrieve other services)</li>
<li><code>service</code> - The service this hook currently runs on</li>
<li><code>path</code> - The path (name) of the service</li>
<li><code>method</code> - The service method name</li>
<li><code>type</code> - The hook type (<code>before</code>, <code>after</code> or <code>error</code>)</li>
</ul>
</li>
<li><strong>Writeable:</strong><ul>
<li><code>params</code> - The service method parameters (including <code>params.query</code>)</li>
<li><code>id</code> - The id (for <code>get</code>, <code>remove</code>, <code>update</code> and <code>patch</code>)</li>
<li><code>data</code> - The request data (for <code>create</code>, <code>update</code> and <code>patch</code>)</li>
<li><code>error</code> - The error that was thrown (only in <code>error</code> hooks)</li>
<li><code>result</code> - The result of the successful method call (only in <code>after</code> hooks).</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Pro Tip:</strong> <code>hook.result</code> Can also be set in a <code>before</code> hook which will skip the service method call (but run all other hooks).</p>
</blockquote>
<!-- -->
<blockquote>
<p><strong>Pro Tip:</strong> <code>hook.id</code> can also be <code>null</code> for <code>update</code>, <code>patch</code> and <code>remove</code>. See the <a href="services.html">service methods</a> for more information.</p>
</blockquote>
<!-- -->
<blockquote>
<p><strong>Pro Tip:</strong> The <code>hook</code> object is the same throughout a service method call so it is possible to add properties and use them in other hooks at a later time.</p>
</blockquote>
<h2 id="hook-functions">Hook functions</h2>
<p>A hook function (or just <em>hook</em>) takes a <a href="#hook-objects">hook object</a> as the parameter (<code>function(hook) {}</code> or <code>hook =&gt; {}</code>) and can</p>
<ul>
<li>return nothing (<code>undefined</code>)</li>
<li>return the <code>hook</code> object</li>
<li><code>throw</code> an error</li>
<li>for asynchronous operations return a <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank">Promise</a> that<ul>
<li>resolves with a <code>hook</code> object</li>
<li>resolves with <code>undefined</code></li>
<li>rejects with an error</li>
</ul>
</li>
</ul>
<p>When an error is thrown (or the promise is rejected), all subsequent hooks - and the service method call if it didn&apos;t run already - will be skipped and only the error hooks will run.</p>
<p>The following example throws an error when the text for creating a new message is empty. You can also create very similar hooks to use your Node validation library of choice.</p>
<pre><code class="lang-js">app.service(<span class="hljs-string">&apos;messages&apos;</span>).hooks({
  before: {
    create: [
      <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hook</span>) </span>{
        <span class="hljs-keyword">if</span>(hook.data.text.trim() === <span class="hljs-string">&apos;&apos;</span>) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&apos;Message text can not be empty&apos;</span>);
        }
      }
    ]
  }
});
</code></pre>
<h2 id="asynchronous-hooks">Asynchronous hooks</h2>
<p>When a Promise is returned the hook will wait until it resolves or rejects before continuing.</p>
<blockquote>
<p><strong>Important:</strong> As stated in the <a href="#hook-functions">hook functions</a> section the promise has to either resolve with the <code>hook</code> object (usually done with <code>.then(() =&gt; hook)</code> at the end of the promise chain) or with <code>undefined</code>.</p>
</blockquote>
<p>The following example shows an asynchronous hook that uses another service to retrieve and populate the messages <code>user</code> when getting a single message.</p>
<pre><code class="lang-js">app.service(<span class="hljs-string">&apos;messages&apos;</span>).hooks({
  after: {
    get: [
      <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hook</span>) </span>{
        <span class="hljs-keyword">const</span> userId = hook.result.userId;

        <span class="hljs-comment">// hook.app.service(&apos;users&apos;).get returns a Promise already</span>
        <span class="hljs-keyword">return</span> hook.app.service(<span class="hljs-string">&apos;users&apos;</span>).get(userId).then(user =&gt; {
          <span class="hljs-comment">// Update the result (the message)</span>
          hook.result.user = user;

          <span class="hljs-comment">// Returning will resolve the promise with the `hook` object</span>
          <span class="hljs-keyword">return</span> hook;
        });
      }
    ]
  }
});
</code></pre>
<p>When the asynchronous operation is using a <em>callback</em> instead of returning a promise you have to create and return a new Promise (<code>new Promise((resolve, reject) =&gt; {})</code>).</p>
<p>The following example reads a JSON file with <a href="https://nodejs.org/api/fs.html#fs_fs_readfile_file_options_callback" target="_blank">fs.readFile</a> and adds it to the message:</p>
<pre><code class="lang-js">app.service(<span class="hljs-string">&apos;messages&apos;</span>).hooks({
  after: {
    get: [
      <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hook</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>((resolve, reject) =&gt; {
          <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;fs&apos;</span>).readFile(<span class="hljs-string">&apos;./myfile.json&apos;</span>, (error, data) =&gt; {
            <span class="hljs-comment">// Check if the callback got an error, if so reject the promise and return</span>
            <span class="hljs-keyword">if</span>(error) {
              <span class="hljs-keyword">return</span> reject(error);
            }

            hook.result.myFile = <span class="hljs-built_in">JSON</span>.parse(data.toString());

            <span class="hljs-comment">// Resolve the promise with the `hook` object</span>
            resolve(hook);
          });
        });
      }
    ]
  }
});
</code></pre>
<blockquote>
<p><strong>Pro Tip:</strong> Tools like <a href="https://github.com/petkaantonov/bluebird" target="_blank">Bluebird</a> make converting between callbacks and promises easier.</p>
</blockquote>
<!-- -->
<blockquote>
<p><strong>Important:</strong> Most Feathers service calls and newer Node packages already return Promises. They can be returned and chained directly. There is no need to instantiate your own <code>new</code> Promise instance in those cases.</p>
</blockquote>
<h2 id="registering-hooks">Registering hooks</h2>
<p>Hook functions are registered on a service through the <code>app.service(&lt;servicename&gt;).hooks(hooks)</code> method. There are several options for what can be passed as <code>hooks</code>:</p>
<pre><code class="lang-js"><span class="hljs-comment">// The standard all at once way (also used by the generator)</span>
<span class="hljs-comment">// an array of functions per service method name (and for `all` methods)</span>
app.service(<span class="hljs-string">&apos;servicename&apos;</span>).hooks({
  before: {
    all: [
      <span class="hljs-comment">// Use normal functions</span>
      <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hook</span>) </span>{ <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;before all hook ran&apos;</span>); }
    ],
    find: [
      <span class="hljs-comment">// Use ES6 arrow functions</span>
      hook =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;before find hook 1 ran&apos;</span>),
      hook =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;before find hook 2 ran&apos;</span>)
    ],
    get: [ <span class="hljs-comment">/* other hook functions here */</span> ],
    create: [],
    update: [],
    patch: [],
    remove: []
  },
  after: {
    all: [],
    find: [],
    get: [],
    create: [],
    update: [],
    patch: [],
    remove: []
  },
  error: {
    all: [],
    find: [],
    get: [],
    create: [],
    update: [],
    patch: [],
    remove: []
  }
});

<span class="hljs-comment">// Register a single hook before, after and on error for all methods</span>
app.service(<span class="hljs-string">&apos;servicename&apos;</span>).hooks({
  before(hook) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;before all hook ran&apos;</span>);
  },
  after(hook) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;after all hook ran&apos;</span>);
  },
  error(hook) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;error all hook ran&apos;</span>);
  }
});
</code></pre>
<blockquote>
<p><strong>Pro Tip:</strong> When using the full object, <code>all</code> is a special keyword meaning this hook will run for all methods. <code>all</code> hooks will be registered before other method specific hooks.</p>
<p><strong>Pro Tip:</strong> <code>app.service(&lt;servicename&gt;).hooks(hooks)</code> can be called multiple times and the hooks will be registered in that order. Normally all hooks should be registered at once however to see at a glance what what the service is going to do.</p>
</blockquote>
<h2 id="application-hooks">Application hooks</h2>
<p>To add hooks to every service <code>app.hooks(hooks)</code> can be used. Application hooks are <a href="#registering-hooks">registered in the same format as service hooks</a> and also work exactly the same. Note when application hooks will be executed however:</p>
<ul>
<li><code>before</code> application hooks will always run <em>before</em> all service <code>before</code> hooks</li>
<li><code>after</code> application hooks will always run <em>after</em> all service <code>after</code> hooks</li>
<li><code>error</code> application hooks will always run <em>after</em> all service <code>error</code> hooks</li>
</ul>
<p>Here is an example for a very useful application hook that logs every service method error with the service and method name as well as the error stack.</p>
<pre><code class="lang-js">app.hooks({
  error(hook) {
    <span class="hljs-built_in">console</span>.error(<span class="hljs-string">`Error in &apos;<span class="hljs-subst">${hook.path}</span>&apos; service method &apos;<span class="hljs-subst">${hook.method}</span>`</span>, hook.error.stack);
  }
});
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="services.html" class="navigation navigation-prev " aria-label="Previous page: Services">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="hooks-common.html" class="navigation navigation-next " aria-label="Next page: Common Hooks">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Hooks","level":"1.3.1.3","depth":3,"next":{"title":"Common Hooks","level":"1.3.1.4","depth":3,"path":"api/hooks-common.md","ref":"api/hooks-common.md","articles":[]},"previous":{"title":"Services","level":"1.3.1.2","depth":3,"path":"api/services.md","ref":"api/services.md","articles":[]},"dir":"ltr"},"config":{"plugins":["feathers-collapsible-menu","heading-anchors","include-codeblock","edit-link","ga","feathers-versions"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"search":{},"lunr":{"maxIndexSize":1000000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"heading-anchors":{},"highlight":{},"feathers-versions":{},"ga":{"configuration":"auto","token":"UA-64904930-1"},"versions":{"gitbookConfigURL":"https://raw.githubusercontent.com/feathersjs/feathers-docs/master/book.json","options":[{"value":"https://docs.feathersjs.com","text":"Latest Stable (Auk)"},{"value":"https://legacy.docs.feathersjs.com","text":"Legacy (Pre-Auk)"}]},"include-codeblock":{"check":false,"edit":false,"fixlang":false,"lang":"","template":"default","theme":"chrome","unindent":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","placement":"left","base":"https://github.com/feathersjs/feathers-docs/edit/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"feathers-collapsible-menu":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"ko","gitbook":"*"},"file":{"path":"api/hooks.md","mtime":"2017-07-07T07:10:07.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-07-10T12:54:35.932Z"},"basePath":"..","book":{"language":"ko"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-feathers-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-feathers-versions/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

