
<!DOCTYPE HTML>
<html lang="ko" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Sequelize · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-feathers-versions/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="knexjs.html" />
    
    
    <link rel="prev" href="mongoose.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="검색어 입력" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../guides/readme.html">
            
                <a href="../../guides/readme.html">
            
                    
                    Guides
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../guides/about/readme.html">
            
                <a href="../../guides/about/readme.html">
            
                    
                    About Feathers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../guides/about/features.html">
            
                <a href="../../guides/about/features.html">
            
                    
                    Features
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../guides/about/philosophy.html">
            
                <a href="../../guides/about/philosophy.html">
            
                    
                    Philosophy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../../guides/about/vs.html">
            
                <a href="../../guides/about/vs.html">
            
                    
                    Feathers vs. X
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../guides/step-by-step/readme.html">
            
                <a href="../../guides/step-by-step/readme.html">
            
                    
                    The Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../guides/step-by-step/intro/readme.html">
            
                <a href="../../guides/step-by-step/intro/readme.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../guides/step-by-step/intro/not-worry.html">
            
                <a href="../../guides/step-by-step/intro/not-worry.html">
            
                    
                    What not to worry about
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../../guides/step-by-step/preliminaries.html">
            
                <a href="../../guides/step-by-step/preliminaries.html">
            
                    
                    Installing the Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../../guides/step-by-step/basic-feathers/readme.html">
            
                <a href="../../guides/step-by-step/basic-feathers/readme.html">
            
                    
                    Basic Feathers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../../guides/step-by-step/basic-feathers/database-connector.html">
            
                <a href="../../guides/step-by-step/basic-feathers/database-connector.html">
            
                    
                    A database connector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../../guides/step-by-step/basic-feathers/rest-api-server.html">
            
                <a href="../../guides/step-by-step/basic-feathers/rest-api-server.html">
            
                    
                    A REST API server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.7" data-path="../../guides/step-by-step/basic-feathers/rest-client.html">
            
                <a href="../../guides/step-by-step/basic-feathers/rest-client.html">
            
                    
                    A Feathers REST client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.8" data-path="../../guides/step-by-step/basic-feathers/socket-client.html">
            
                <a href="../../guides/step-by-step/basic-feathers/socket-client.html">
            
                    
                    A Feathers WebSocket client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.9" data-path="../../guides/step-by-step/basic-feathers/a-ha.html">
            
                <a href="../../guides/step-by-step/basic-feathers/a-ha.html">
            
                    
                    The "a-ha!" moment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.10" data-path="../../guides/step-by-step/basic-feathers/hooks-middleware.html">
            
                <a href="../../guides/step-by-step/basic-feathers/hooks-middleware.html">
            
                    
                    Hooks middleware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.11" data-path="../../guides/step-by-step/basic-feathers/all-about-hooks.html">
            
                <a href="../../guides/step-by-step/basic-feathers/all-about-hooks.html">
            
                    
                    All about hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.12" data-path="../../guides/step-by-step/basic-feathers/hooks-1.html">
            
                <a href="../../guides/step-by-step/basic-feathers/hooks-1.html">
            
                    
                    Hooks, part 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.13" data-path="../../guides/step-by-step/basic-feathers/hooks-2.html">
            
                <a href="../../guides/step-by-step/basic-feathers/hooks-2.html">
            
                    
                    Hooks, part 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.14" data-path="../../guides/step-by-step/basic-feathers/writing-hooks.html">
            
                <a href="../../guides/step-by-step/basic-feathers/writing-hooks.html">
            
                    
                    Writing your own hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.15" data-path="../../guides/step-by-step/basic-feathers/testing-hooks.html">
            
                <a href="../../guides/step-by-step/basic-feathers/testing-hooks.html">
            
                    
                    Testing hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.16" data-path="../../guides/step-by-step/basic-feathers/real-time.html">
            
                <a href="../../guides/step-by-step/basic-feathers/real-time.html">
            
                    
                    Real-time
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../guides/step-by-step/generators/readme.html">
            
                <a href="../../guides/step-by-step/generators/readme.html">
            
                    
                    The Generator (CLI)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../guides/step-by-step/generators/gen-app.html">
            
                <a href="../../guides/step-by-step/generators/gen-app.html">
            
                    
                    Generate the application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../guides/step-by-step/generators/gen-authentication.html">
            
                <a href="../../guides/step-by-step/generators/gen-authentication.html">
            
                    
                    Add authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../../guides/step-by-step/generators/gen-service.html">
            
                <a href="../../guides/step-by-step/generators/gen-service.html">
            
                    
                    Add the teams service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="../../guides/step-by-step/generators/gen-hook.html">
            
                <a href="../../guides/step-by-step/generators/gen-hook.html">
            
                    
                    Add the populate hook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="../../guides/step-by-step/generators/gen-run.html">
            
                <a href="../../guides/step-by-step/generators/gen-run.html">
            
                    
                    Run the application
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../guides/chat/readme.html">
            
                <a href="../../guides/chat/readme.html">
            
                    
                    A Chat Application
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../../guides/chat/creating.html">
            
                <a href="../../guides/chat/creating.html">
            
                    
                    Creating the application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="../../guides/chat/service.html">
            
                <a href="../../guides/chat/service.html">
            
                    
                    Generating a service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.3" data-path="../../guides/chat/frontend.html">
            
                <a href="../../guides/chat/frontend.html">
            
                    
                    Building a frontend
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.4" data-path="../../guides/chat/authentication.html">
            
                <a href="../../guides/chat/authentication.html">
            
                    
                    Adding authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.5" data-path="../../guides/chat/processing.html">
            
                <a href="../../guides/chat/processing.html">
            
                    
                    Processing data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../guides/frameworks/readme.html">
            
                <a href="../../guides/frameworks/readme.html">
            
                    
                    Frameworks
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" >
            
                <span>
            
                    
                    React and React Native
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" >
            
                <span>
            
                    
                    VueJS
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3" >
            
                <span>
            
                    
                    Angular
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.4" >
            
                <span>
            
                    
                    Others
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../guides/auth/readme.html">
            
                <a href="../../guides/auth/readme.html">
            
                    
                    Authentication
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../../guides/auth/how-jwt-works.html">
            
                <a href="../../guides/auth/how-jwt-works.html">
            
                    
                    How JWT works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" >
            
                <a target="_blank" href="https://github.com/feathersjs/feathers-authentication/blob/master/docs/new-1.0-features.md">
            
                    
                    What's New (external link)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" >
            
                <a target="_blank" href="https://github.com/feathersjs/feathers-authentication/blob/master/docs/migrating.md">
            
                    
                    Migration Guide (external link)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.4" data-path="../../guides/auth/recipe.customize-response.html">
            
                <a href="../../guides/auth/recipe.customize-response.html">
            
                    
                    Recipe: Custom Login Response
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.5" data-path="../../guides/auth/recipe.customize-jwt-payload.html">
            
                <a href="../../guides/auth/recipe.customize-jwt-payload.html">
            
                    
                    Recipe: Custom JWT Payload
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.6" data-path="../../guides/auth/recipe.mixed-auth.html">
            
                <a href="../../guides/auth/recipe.mixed-auth.html">
            
                    
                    Recipe: Mixed Auth Endpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.7" data-path="../../guides/auth/recipe.oauth-basic.html">
            
                <a href="../../guides/auth/recipe.oauth-basic.html">
            
                    
                    Recipe: Basic OAuth
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../guides/offline-first/readme.html">
            
                <a href="../../guides/offline-first/readme.html">
            
                    
                    Offline first
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1" data-path="../../guides/offline-first/strategies.html">
            
                <a href="../../guides/offline-first/strategies.html">
            
                    
                    Strategies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.2" data-path="../../guides/offline-first/snapshot.html">
            
                <a href="../../guides/offline-first/snapshot.html">
            
                    
                    Snapshot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.3" data-path="../../guides/offline-first/realtime.html">
            
                <a href="../../guides/offline-first/realtime.html">
            
                    
                    Realtime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.4" data-path="../../guides/offline-first/optimistic-mutation.html">
            
                <a href="../../guides/offline-first/optimistic-mutation.html">
            
                    
                    Optimistic mutation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.5" data-path="../../guides/offline-first/owndata-ownnet.html">
            
                <a href="../../guides/offline-first/owndata-ownnet.html">
            
                    
                    Own-data, own-net
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.6" data-path="../../guides/offline-first/syncdata-syncnet.html">
            
                <a href="../../guides/offline-first/syncdata-syncnet.html">
            
                    
                    Sync-data, sync-net
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.7" data-path="../../guides/offline-first/configure-snapshot.html">
            
                <a href="../../guides/offline-first/configure-snapshot.html">
            
                    
                    Configure snapshot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.8" data-path="../../guides/offline-first/configure-realtime.html">
            
                <a href="../../guides/offline-first/configure-realtime.html">
            
                    
                    Configure realtime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.9" data-path="../../guides/offline-first/configure-publication.html">
            
                <a href="../../guides/offline-first/configure-publication.html">
            
                    
                    Configure publication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.10" data-path="../../guides/offline-first/example-snapshot.html">
            
                <a href="../../guides/offline-first/example-snapshot.html">
            
                    
                    Example snapshot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.11" data-path="../../guides/offline-first/example-realtime.html">
            
                <a href="../../guides/offline-first/example-realtime.html">
            
                    
                    Example realtime & publication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.12" data-path="../../guides/offline-first/example-optimistic.html">
            
                <a href="../../guides/offline-first/example-optimistic.html">
            
                    
                    Example optimistic mutation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.13" data-path="../../guides/offline-first/example-tests.html">
            
                <a href="../../guides/offline-first/example-tests.html">
            
                    
                    Tests as examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.14" data-path="../../guides/offline-first/example-more.html">
            
                <a href="../../guides/offline-first/example-more.html">
            
                    
                    More examples
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../../guides/advanced/readme.html">
            
                <a href="../../guides/advanced/readme.html">
            
                    
                    Advanced topics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1" data-path="../../guides/advanced/debugging.html">
            
                <a href="../../guides/advanced/debugging.html">
            
                    
                    Debugging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.2" data-path="../../guides/advanced/configuration.html">
            
                <a href="../../guides/advanced/configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.3" data-path="../../guides/advanced/file-uploading.html">
            
                <a href="../../guides/advanced/file-uploading.html">
            
                    
                    File uploads
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.4" data-path="../../guides/advanced/creating-a-plugin.html">
            
                <a href="../../guides/advanced/creating-a-plugin.html">
            
                    
                    Creating a Feathers plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.5" data-path="../../guides/advanced/seeding-services.html">
            
                <a href="../../guides/advanced/seeding-services.html">
            
                    
                    Seeding services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.6" data-path="../../guides/advanced/using-a-view-engine.html">
            
                <a href="../../guides/advanced/using-a-view-engine.html">
            
                    
                    Using a view engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.7" data-path="../../guides/advanced/scaling.html">
            
                <a href="../../guides/advanced/scaling.html">
            
                    
                    Scaling
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../readme.html">
            
                <a href="../readme.html">
            
                    
                    API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    Core
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../application.html">
            
                <a href="../application.html">
            
                    
                    Application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../services.html">
            
                <a href="../services.html">
            
                    
                    Services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../hooks.html">
            
                <a href="../hooks.html">
            
                    
                    Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="../hooks-common.html">
            
                <a href="../hooks-common.html">
            
                    
                    Common Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.5" data-path="../client.html">
            
                <a href="../client.html">
            
                    
                    Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.6" data-path="../events.html">
            
                <a href="../events.html">
            
                    
                    Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.7" data-path="../errors.html">
            
                <a href="../errors.html">
            
                    
                    Errors
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" >
            
                <span>
            
                    
                    Transports
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../rest.html">
            
                <a href="../rest.html">
            
                    
                    REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../express.html">
            
                <a href="../express.html">
            
                    
                    Express
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../socketio.html">
            
                <a href="../socketio.html">
            
                    
                    Socket.io
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../primus.html">
            
                <a href="../primus.html">
            
                    
                    Primus
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    Authentication
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../authentication/server.html">
            
                <a href="../authentication/server.html">
            
                    
                    Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../authentication/client.html">
            
                <a href="../authentication/client.html">
            
                    
                    Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="../authentication/local.html">
            
                <a href="../authentication/local.html">
            
                    
                    Local
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.4" data-path="../authentication/local-management.html">
            
                <a href="../authentication/local-management.html">
            
                    
                    Local management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.5" data-path="../authentication/jwt.html">
            
                <a href="../authentication/jwt.html">
            
                    
                    JWT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.6" data-path="../authentication/oauth1.html">
            
                <a href="../authentication/oauth1.html">
            
                    
                    OAuth1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.7" data-path="../authentication/oauth2.html">
            
                <a href="../authentication/oauth2.html">
            
                    
                    OAuth2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.8" data-path="../authentication/hooks.html">
            
                <a href="../authentication/hooks.html">
            
                    
                    Hooks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    Databases
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="common.html">
            
                <a href="common.html">
            
                    
                    Common API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="querying.html">
            
                <a href="querying.html">
            
                    
                    Querying
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="memory.html">
            
                <a href="memory.html">
            
                    
                    Memory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.4" data-path="nedb.html">
            
                <a href="nedb.html">
            
                    
                    NeDb
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.5" data-path="localstorage.html">
            
                <a href="localstorage.html">
            
                    
                    LocalStorage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.6" data-path="mongodb.html">
            
                <a href="mongodb.html">
            
                    
                    MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.7" data-path="mongoose.html">
            
                <a href="mongoose.html">
            
                    
                    Mongoose
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.4.8" data-path="sequelize.html">
            
                <a href="sequelize.html">
            
                    
                    Sequelize
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.9" data-path="knexjs.html">
            
                <a href="knexjs.html">
            
                    
                    Knex
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.10" data-path="rethinkdb.html">
            
                <a href="rethinkdb.html">
            
                    
                    RethinkDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.11" data-path="elasticsearch.html">
            
                <a href="elasticsearch.html">
            
                    
                    Elasticsearch
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../SECURITY.html">
            
                <a href="../../SECURITY.html">
            
                    
                    Security
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../ecosystem/readme.html">
            
                <a href="../../ecosystem/readme.html">
            
                    
                    Ecosystem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../help/readme.html">
            
                <a href="../../help/readme.html">
            
                    
                    Help
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../faq/readme.html">
            
                <a href="../../faq/readme.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../contributing/readme.html">
            
                <a href="../../contributing/readme.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../../license.md">
            
                <span>
            
                    
                    License
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            GitBook에 게시
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Sequelize</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="sequelize">Sequelize</h1>
<p><a href="https://github.com/feathersjs/feathers-sequelize/" target="_blank"><img src="https://img.shields.io/github/stars/feathersjs/feathers-sequelize.png?style=social&amp;label=Star" alt="GitHub stars"></a>
<a href="https://www.npmjs.com/package/feathers-sequelize" target="_blank"><img src="https://img.shields.io/npm/v/feathers-sequelize.png?style=flat-square" alt="npm version"></a>
<a href="https://github.com/feathersjs/feathers-sequelize/blob/master/CHANGELOG.md" target="_blank"><img src="https://img.shields.io/badge/changelog-.md-blue.png?style=flat-square" alt="Changelog"></a></p>
<p><a href="https://github.com/feathersjs/feathers-sequelize" target="_blank">feathers-sequelize</a> is a database adapter for <a href="http://sequelizejs.com" target="_blank">Sequelize</a>, an ORM for Node.js. It supports PostgreSQL, MySQL, MariaDB, SQLite and MSSQL and features transaction support, relations, read replication and more.</p>
<pre><code class="lang-bash">npm install --save feathers-sequelize
</code></pre>
<p>And <a href="http://docs.sequelizejs.com/en/latest/docs/getting-started/" target="_blank">one of the following</a>:</p>
<pre><code class="lang-bash">npm install --save pg pg-hstore
npm install --save mysql // For both mysql and mariadb dialects
npm install --save sqlite3
npm install --save tedious // MSSQL
</code></pre>
<blockquote>
<p><strong>Important:</strong> To use this adapter you also want to be familiar with the <a href="common.html">database adapter common API</a> and <a href="querying.html">querying mechanism</a>.</p>
<p>For more information about models and general Sequelize usage, follow up in the <a href="http://docs.sequelizejs.com/en/latest/" target="_blank">Sequelize documentation</a>.</p>
</blockquote>
<h2 id="api">API</h2>
<h3 id="serviceoptions"><code>service(options)</code></h3>
<p>Returns a new service instance initialized with the given options.</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> Model = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;./models/mymodel&apos;</span>);
<span class="hljs-keyword">const</span> service = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-sequelize&apos;</span>);

app.use(<span class="hljs-string">&apos;/messages&apos;</span>, service({ Model }));
app.use(<span class="hljs-string">&apos;/messages&apos;</span>, service({ Model, id, events, paginate }));
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>Model</code> (<strong>required</strong>) - The Sequelize model definition</li>
<li><code>id</code> (<em>optional</em>, default: <code>&apos;_id&apos;</code>) - The name of the id field property.</li>
<li><code>raw</code> (<em>optional</em>, default: <code>true</code>) - Runs queries faster by returning plain objects instead of Sequelize models.</li>
<li><code>events</code> (<em>optional</em>) - A list of <a href="../real-time/events.md#custom-events">custom service events</a> sent by this service</li>
<li><code>paginate</code> (<em>optional</em>) - A <a href="pagination.md">pagination object</a> containing a <code>default</code> and <code>max</code> page size</li>
</ul>
<h3 id="paramssequelize">params.sequelize</h3>
<p>When making a <a href="services.md">service method</a> call, <code>params</code> can contain an <code>sequelize</code> property which allows to pass additional Sequelize options. This can e.g. be used to <strong>retrieve associations</strong>. Normally this wil be set in a before <a href="hooks.md">hook</a>:</p>
<pre><code class="lang-js">app.service(<span class="hljs-string">&apos;messages&apos;</span>).hooks({
  before: {
    find(hook) {
      <span class="hljs-comment">// Get the Sequelize instance. In the generated application via:</span>
      <span class="hljs-keyword">const</span> sequelize = hook.app.get(<span class="hljs-string">&apos;sequelizeClient&apos;</span>);

      hook.params.sequelize = {
        include: [ User ]
      }
    }
  }
});
</code></pre>
<h2 id="example">Example</h2>
<p>Here is an example of a Feathers server with a <code>messages</code> SQLite Sequelize Model:</p>
<pre><code>$ npm install feathers feathers-errors feathers-rest feathers-socketio body-parser sequelize feathers-sequelize sqlite3
</code></pre><p>In <code>app.js</code>:</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;path&apos;</span>);
<span class="hljs-keyword">const</span> feathers = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers&apos;</span>);
<span class="hljs-keyword">const</span> errorHandler = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-errors/handler&apos;</span>)
<span class="hljs-keyword">const</span> rest = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-rest&apos;</span>);
<span class="hljs-keyword">const</span> socketio = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-socketio&apos;</span>);
<span class="hljs-keyword">const</span> bodyParser = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;body-parser&apos;</span>);
<span class="hljs-keyword">const</span> Sequelize = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;sequelize&apos;</span>);
<span class="hljs-keyword">const</span> service = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-sequelize&apos;</span>);

<span class="hljs-keyword">const</span> sequelize = <span class="hljs-keyword">new</span> Sequelize(<span class="hljs-string">&apos;sequelize&apos;</span>, <span class="hljs-string">&apos;&apos;</span>, <span class="hljs-string">&apos;&apos;</span>, {
  dialect: <span class="hljs-string">&apos;sqlite&apos;</span>,
  storage: path.join(__dirname, <span class="hljs-string">&apos;db.sqlite&apos;</span>),
  logging: <span class="hljs-literal">false</span>
});
<span class="hljs-keyword">const</span> Message = sequelize.define(<span class="hljs-string">&apos;message&apos;</span>, {
  text: {
    type: Sequelize.STRING,
    allowNull: <span class="hljs-literal">false</span>
  }
}, {
  freezeTableName: <span class="hljs-literal">true</span>
});

<span class="hljs-comment">// Create a feathers instance.</span>
<span class="hljs-keyword">const</span> app = feathers()
  <span class="hljs-comment">// Enable REST services</span>
  .configure(rest())
  <span class="hljs-comment">// Enable Socket.io services</span>
  .configure(socketio())
  <span class="hljs-comment">// Turn on JSON parser for REST services</span>
  .use(bodyParser.json())
  <span class="hljs-comment">// Turn on URL-encoded parser for REST services</span>
  .use(bodyParser.urlencoded({ extended: <span class="hljs-literal">true</span> }))
  <span class="hljs-comment">// Create an in-memory Feathers service with a default page size of 2 items</span>
  <span class="hljs-comment">// and a maximum size of 4</span>
  .use(<span class="hljs-string">&apos;/messages&apos;</span>, service({
    Model: Message,
    paginate: {
      <span class="hljs-keyword">default</span>: <span class="hljs-number">2</span>,
      max: <span class="hljs-number">4</span>
    }
  }))
  .use(errorHandler());

Message.sync({ force: <span class="hljs-literal">true</span> }).then(() =&gt; {
  <span class="hljs-comment">// Create a dummy Message</span>
  app.service(<span class="hljs-string">&apos;messages&apos;</span>).create({
    text: <span class="hljs-string">&apos;Message created on server&apos;</span>
  }).then(message =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Created message&apos;</span>, message.toJSON()));
});

<span class="hljs-comment">// Start the server</span>
<span class="hljs-keyword">const</span> port = <span class="hljs-number">3030</span>;

app.listen(port, () =&gt; {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Feathers server listening on port <span class="hljs-subst">${port}</span>`</span>);
});
</code></pre>
<p>Run the example with <code>node app</code> and go to <a href="http://localhost:3030/messages" target="_blank">localhost:3030/messages</a>.</p>
<h2 id="querying">Querying</h2>
<p>Additionally to the <a href="querying.html">common querying mechanism</a> this adapter also supports all <a href="http://docs.sequelizejs.com/manual/tutorial/querying.html" target="_blank">Sequelize query operators</a>.</p>
<h2 id="associations-and-relations">Associations and relations</h2>
<p>Follow up in the <a href="http://docs.sequelizejs.com/manual/tutorial/associations.html" target="_blank">Sequelize documentation for associations</a>, <a href="https://github.com/feathersjs/feathers-sequelize/issues/20" target="_blank">this issue</a> and <a href="https://stackoverflow.com/questions/42841810/feathers-js-sequelize-service-with-relations-between-two-models/42846215#42846215" target="_blank">this Stackoverflow answer</a>.</p>
<h2 id="working-with-sequelize-model-instances">Working with Sequelize Model instances</h2>
<p>It is highly recommended to use <code>raw</code> queries, which is the default. However, there are times when you will want to take advantage of <a href="http://docs.sequelizejs.com/en/latest/api/instance/" target="_blank">Sequelize Instance</a> methods. There are two ways to tell feathers to return Sequelize instances:</p>
<ol>
<li>Set <code>{ raw: false }</code> in a &quot;before&quot; hook:<pre><code class="lang-js"> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rawFalse</span>(<span class="hljs-params">hook</span>) </span>{
     <span class="hljs-keyword">if</span> (!hook.params.sequelize) hook.params.sequelize = {};
     <span class="hljs-built_in">Object</span>.assign(hook.params.sequelize, { raw: <span class="hljs-literal">false</span> });
     <span class="hljs-keyword">return</span> hook;
 }
 hooks.before.find = [rawFalse];
</code></pre>
</li>
<li><p>Use the new <code>hydrate</code> hook in the &quot;after&quot; phase:</p>
<pre><code class="lang-js"> <span class="hljs-keyword">const</span> hydrate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-sequelize/hooks/hydrate&apos;</span>);
 hooks.after.find = [hydrate()];

 <span class="hljs-comment">// Or, if you need to include associated models, you can do the following:</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">includeAssociated</span> (<span class="hljs-params">hook</span>) </span>{
      <span class="hljs-keyword">return</span> hydrate({
         include: [{ model: hook.app.services.fooservice.Model }]
      }).call(<span class="hljs-keyword">this</span>, hook);
  }
  hooks.after.find = [includeAssociated];
</code></pre>
<p>For a more complete example see this <a href="https://gist.github.com/sicruse/bfaa17008990bab2fd1d76a670c3923f" target="_blank">gist</a>.</p>
</li>
</ol>
<blockquote>
<p><strong>Important:</strong> When working with Sequelize Instances, most of the feathers-hooks-common will no longer work. If you need to use a common hook or other 3rd party hooks, you should use the &quot;dehydrate&quot; hook to convert data back to a plain object:</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> hydrate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-sequelize/hooks/hydrate&apos;</span>);
<span class="hljs-keyword">const</span> dehydrate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-sequelize/hooks/dehydrate&apos;</span>);
<span class="hljs-keyword">const</span> { populate } = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-hooks-common&apos;</span>);

hooks.after.find = [hydrate(), doSomethingCustom(), dehydrate(), populate()];
</code></pre>
</blockquote>
<h2 id="validation">Validation</h2>
<p>Sequelize by default gives you the ability to <a href="http://docs.sequelizejs.com/en/latest/docs/models-definition/#validations" target="_blank">add validations at the model level</a>. Using an error handler like the one that <a href="https://github.com/feathersjs/feathers-errors/blob/master/src/error-handler.js" target="_blank">comes with Feathers</a> your validation errors will be formatted nicely right out of the box!</p>
<h2 id="migrations">Migrations</h2>
<p>Migrations with feathers and sequelize are quite simple and we have provided some <a href="https://github.com/feathersjs/feathers-demos/blob/master/examples/migrations/sequelize" target="_blank">sample code</a> to get you started. This guide will follow the directory structure used by the sample code, but you are free to rearrange things as you see fit. The following assumes you have a <code>migrations</code> folder in the root of your app.</p>
<h3 id="initial-setup-one-time-tasks">Initial Setup: one-time tasks</h3>
<ul>
<li>Install the <a href="https://github.com/sequelize/cli" target="_blank">sequelize CLI</a>:</li>
</ul>
<pre><code>npm install sequelize-cli --save -g
</code></pre><ul>
<li>Create a <code>.sequelizerc</code> file in your project root with the following content:</li>
</ul>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;path&apos;</span>);

<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-string">&apos;config&apos;</span>: path.resolve(<span class="hljs-string">&apos;migrations/config/config.js&apos;</span>),
  <span class="hljs-string">&apos;migrations-path&apos;</span>: path.resolve(<span class="hljs-string">&apos;migrations&apos;</span>),
  <span class="hljs-string">&apos;seeders-path&apos;</span>: path.resolve(<span class="hljs-string">&apos;migrations/seeders&apos;</span>),
  <span class="hljs-string">&apos;models-path&apos;</span>: path.resolve(<span class="hljs-string">&apos;migrations/models&apos;</span>)
};
</code></pre>
<ul>
<li>Create the migrations config in <code>migrations/config/config.js</code>:</li>
</ul>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> app = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;../../src/app&apos;</span>);
<span class="hljs-keyword">const</span> env = process.env.NODE_ENV || <span class="hljs-string">&apos;development&apos;</span>;

<span class="hljs-built_in">module</span>.exports = {
  [env]: {
    url: app.get(<span class="hljs-string">&apos;db_url&apos;</span>),
    dialect: app.get(<span class="hljs-string">&apos;db_dialect&apos;</span>),
    migrationStorageTableName: <span class="hljs-string">&apos;_migrations&apos;</span>
  }
};
</code></pre>
<ul>
<li>Register your models. The following assumes you have defined your models using the method <a href="https://github.com/feathersjs/generator-feathers/issues/94#issuecomment-204165134" target="_blank">described here</a>.</li>
</ul>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> Sequelize = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;sequelize&apos;</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;../../src/app&apos;</span>);
<span class="hljs-keyword">const</span> models = app.get(<span class="hljs-string">&apos;models&apos;</span>);
<span class="hljs-keyword">const</span> sequelize = app.get(<span class="hljs-string">&apos;sequelize&apos;</span>);

<span class="hljs-comment">// The export object must be a dictionary of model names -&gt; models</span>
<span class="hljs-comment">// It must also include sequelize (instance) and Sequelize (constructor) properties</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-built_in">Object</span>.assign({
  Sequelize,
  sequelize
}, models);
</code></pre>
<hr>
<h3 id="migrations-workflow">Migrations workflow</h3>
<p>The migration commands will load your application and it is therefore required that you define the same environment variables as when running you application. For example, many applications will define the database connection string in the startup command:</p>
<pre><code>DATABASE_URL=postgres://user:pass@host:port/dbname npm start
</code></pre><p>All of the following commands assume that you have defined the same environment variables used by your application.</p>
<blockquote>
<p><strong>ProTip:</strong> To save typing, you can export environment variables for your current bash/terminal session:</p>
<pre><code>export DATABASE_URL=postgres://user:pass@host:port/db
</code></pre></blockquote>
<h3 id="create-a-new-migration">Create a new migration</h3>
<p>To create a new migration file, run the following command and provide a meaningful name:</p>
<pre><code>sequelize migration:create --name=&quot;meaningful-name&quot;
</code></pre><p>This will create a new file in the migrations folder. All migration file names will be prefixed with a sortable data/time string: <code>20160421135254-meaninful-name.js</code>. This prefix is crucial for making sure your migrations are executed in the proper order.</p>
<blockquote>
<p><strong>NOTE:</strong> The order of your migrations is determined by the alphabetical order of the migration scripts in the file system. The file names generated by the CLI tools will always ensure that the most recent migration comes last. </p>
</blockquote>
<h4 id="add-the-updown-scripts">Add the up/down scripts:</h4>
<p>Open the newly created migration file and write the code to both apply and undo the migration. Please refer to the <a href="http://docs.sequelizejs.com/en/latest/docs/migrations/#functions" target="_blank">sequelize migration functions</a> for available operations. <strong>Do not be lazy - write the down script too and test!</strong> Here is an example of converting a <code>NOT NULL</code> column accept null values:</p>
<pre><code class="lang-js"><span class="hljs-meta">&apos;use strict&apos;</span>;

<span class="hljs-built_in">module</span>.exports = {
  up: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">queryInterface, Sequelize</span>) </span>{
    <span class="hljs-keyword">return</span> queryInterface.changeColumn(<span class="hljs-string">&apos;tableName&apos;</span>, <span class="hljs-string">&apos;columnName&apos;</span>, {
      type: Sequelize.STRING,
      allowNull: <span class="hljs-literal">true</span>
    });
  },

  down: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">queryInterface, Sequelize</span>) </span>{
    <span class="hljs-keyword">return</span> queryInterface.changeColumn(<span class="hljs-string">&apos;tableName&apos;</span>, <span class="hljs-string">&apos;columnName&apos;</span>, {
      type: Sequelize.STRING,
      allowNull: <span class="hljs-literal">false</span>
    });
  }
};
</code></pre>
<blockquote>
<p><strong>ProTip:</strong> As of this writing, if you use the <code>changeColumn</code> method you must <strong>always</strong> specify the <code>type</code>, even if the type is not changing.</p>
<p><strong>ProTip:</strong> Down scripts are typically easy to create and should be nearly identical to the up script except with inverted logic and inverse method calls.</p>
</blockquote>
<h4 id="keeping-your-app-code-in-sync-with-migrations">Keeping your app code in sync with migrations</h4>
<p>The application code should always be up to date with the migrations. This allows the app to be freshly installed with everything up-to-date without running the migration scripts. Your migrations should also never break a freshly installed app. This often times requires that you perform any necessary checks before executing a task. For example, if you update a model to include a new field, your migration should first check to make sure that new field does not exist:</p>
<pre><code class="lang-js"><span class="hljs-meta">&apos;use strict&apos;</span>;

<span class="hljs-built_in">module</span>.exports = {
  up: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">queryInterface, Sequelize</span>) </span>{
    <span class="hljs-keyword">return</span> queryInterface.describeTable(<span class="hljs-string">&apos;tableName&apos;</span>).then(attributes =&gt; {
      <span class="hljs-keyword">if</span> ( !attributes.columnName ) {
        <span class="hljs-keyword">return</span> queryInterface.addColumn(<span class="hljs-string">&apos;tableName&apos;</span>, <span class="hljs-string">&apos;columnName&apos;</span>, {
          type: Sequelize.INTEGER,
          defaultValue: <span class="hljs-number">0</span>
        });
      }
    })
  },

  down: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">queryInterface, Sequelize</span>) </span>{
    <span class="hljs-keyword">return</span> queryInterface.describeTable(<span class="hljs-string">&apos;tableName&apos;</span>).then(attributes =&gt; {
      <span class="hljs-keyword">if</span> ( attributes.columnName ) {
        <span class="hljs-keyword">return</span> queryInterface.removeColumn(<span class="hljs-string">&apos;tableName&apos;</span>, <span class="hljs-string">&apos;columnName&apos;</span>);
      }
    });
  }
};
</code></pre>
<h3 id="apply-a-migration">Apply a migration</h3>
<p>The CLI tools will always run your migrations in the correct order and will keep track of which migrations have been applied and which have not. This data is stored in the database under the <code>_migrations</code> table. To ensure you are up to date, simply run the following:</p>
<pre><code>sequelize db:migrate
</code></pre><blockquote>
<p><strong>ProTip:</strong> You can add the migrations script to your application startup command to ensure that all migrations have run every time your app is started. Try updating your package.json <code>scripts</code> attribute and run <code>npm start</code>:</p>
<pre><code>scripts: {
    start: &quot;sequelize db:migrate &amp;&amp; node src/&quot;
}
</code></pre></blockquote>
<h3 id="undo-the-previous-migration">Undo the previous migration</h3>
<p>To undo the last migration, run the following command:</p>
<pre><code>sequelize db:migrate:undo
</code></pre><p>Continue running the command to undo each migration one at a time - the migrations will be undone in the proper order.</p>
<blockquote>
<p><strong>Note:</strong> - You shouldn&apos;t really have to undo a migration unless you are the one developing a new migration and you want to test that it works. Applications rarely have to revert to a previous state, but when they do you will be glad you took the time to write and test your <code>down</code> scripts!</p>
</blockquote>
<h3 id="reverting-your-app-to-a-previous-state">Reverting your app to a previous state</h3>
<p>In the unfortunate case where you must revert your app to a previous state, it is important to take your time and plan your method of attack. Every application is different and there is no one-size-fits-all strategy for rewinding an application. However, most applications should be able to follow these steps (order is important):</p>
<ol>
<li>Stop your application (kill the process)</li>
<li>Find the last stable version of your app</li>
<li>Count the number of migrations which have been added since that version</li>
<li>Undo your migrations one at a time until the db is in the correct state</li>
<li>Revert your code back to the previous state </li>
<li>Start your app</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="mongoose.html" class="navigation navigation-prev " aria-label="Previous page: Mongoose">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="knexjs.html" class="navigation navigation-next " aria-label="Next page: Knex">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Sequelize","level":"1.3.4.8","depth":3,"next":{"title":"Knex","level":"1.3.4.9","depth":3,"path":"api/databases/knexjs.md","ref":"api/databases/knexjs.md","articles":[]},"previous":{"title":"Mongoose","level":"1.3.4.7","depth":3,"path":"api/databases/mongoose.md","ref":"api/databases/mongoose.md","articles":[]},"dir":"ltr"},"config":{"plugins":["feathers-collapsible-menu","heading-anchors","include-codeblock","edit-link","ga","feathers-versions"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"search":{},"lunr":{"maxIndexSize":1000000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"heading-anchors":{},"highlight":{},"feathers-versions":{},"ga":{"configuration":"auto","token":"UA-64904930-1"},"versions":{"gitbookConfigURL":"https://raw.githubusercontent.com/feathersjs/feathers-docs/master/book.json","options":[{"value":"https://docs.feathersjs.com","text":"Latest Stable (Auk)"},{"value":"https://legacy.docs.feathersjs.com","text":"Legacy (Pre-Auk)"}]},"include-codeblock":{"check":false,"edit":false,"fixlang":false,"lang":"","template":"default","theme":"chrome","unindent":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","placement":"left","base":"https://github.com/feathersjs/feathers-docs/edit/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"feathers-collapsible-menu":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"ko","gitbook":"*"},"file":{"path":"api/databases/sequelize.md","mtime":"2017-07-07T07:10:07.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-07-07T14:02:13.074Z"},"basePath":"../..","book":{"language":"ko"}});
        });
    </script>
</div>

        
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-feathers-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-feathers-versions/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

